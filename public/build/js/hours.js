!function(){const e=document.querySelectorAll('[name="day"]'),t=document.querySelector('[name="day_id"]'),o=document.querySelector('[name="hour_id"]'),a=document.querySelector('[name="category_id"]');let c={category_id:a.value||"",day:t.value||""};function r(e){c[e.target.name]=e.target.value,Object.values(c).includes("")||(o.value="",t.value="",s())}async function s(){const{day:e,category_id:t}=c;url=`/api/horario-eventos?day_id=${e}&category_id=${t}`;try{const e=await fetch(url);!function(e){const t=e.map((e=>e.hour_id)),o=document.querySelectorAll("#hours li");o.forEach((e=>{e.classList.add("hours__hour--disabled"),e.classList.remove("hours__hour--selected"),e.removeEventListener("click",u)}));const a=Array.from(o);a.filter((e=>!t.includes(e.dataset.hourId))).forEach((e=>{e.classList.remove("hours__hour--disabled"),e.addEventListener("click",u)}))}(await e.json())}catch(e){console.log(e)}}function u(e){const a=document.querySelector(".hours__hour--selected");a&&a.classList.remove("hours__hour--selected"),e.target.classList.add("hours__hour--selected"),o.value=e.target.dataset.hourId,t.value=document.querySelector('[name="day"]:checked').value}document.addEventListener("DOMContentLoaded",(function(){e.forEach((e=>{e.addEventListener("input",r)})),a.addEventListener("change",r),async function(){if(!Object.values(c).includes("")){await s();const e=o.value||"",t=document.querySelector(`[data-hour-id="${e}"]`);t.classList.remove("hours__hour--disabled"),t.classList.add("hours__hour--selected"),t.addEventListener("click",u)}}()}))}();//# sourceMappingURL=hours.js.map
